# 高度なタブ管理・セッション保存ツール

このリポジトリは、Chrome 向け拡張機能「高度なタブ管理・セッション保存ツール」のソースコードです。多くのタブを開いた際のストレスを軽減し、快適なブラウジング体験を提供することを目的としています。タブの自動整理からセッションの保存・復元、ブラウジング時間の統計表示まで、さまざまな機能を備えています。

## 主な機能

- **自動タブ整理** – 開いているタブ数が設定した上限を超えると、使用履歴が古いタブを自動的に閉じるか休止状態にします。ピン留めしたタブやホワイトリストに登録したドメインのタブは対象外です。
- **ドメイン別グループ化** – 同じドメインのタブをボタン一つでグループ化し、散らかったウィンドウを整理します。
- **重複タブの削除** – 同じ URL のタブが複数ある場合、重複しているタブだけを一括で閉じます。
- **セッション管理** – 現在開いているタブ群を「セッション」として保存し、後から復元できます。JSON 形式でエクスポート／インポートすることも可能です。
- **ブラウジング統計** – 各ドメインに費やした滞在時間を記録し、ポップアップで上位 5 件を表示します。
- **キーボードショートカット** – デフォルトで以下のショートカットが登録されています。
  - `Ctrl+Shift+G` : タブをドメイン別にグループ化
  - `Ctrl+Shift+S` : 現在のタブ群をセッションとして保存
  - `Ctrl+Shift+D` : 重複タブを閉じる
- **オプションページ** – タブ上限や休止設定、ホワイトリストの編集が可能です。

## インストール方法

1. このリポジトリをクローンするか、ZIP アーカイブをダウンロードして解凍します。
2. Chrome で `chrome://extensions` を開き、右上の「デベロッパーモード」をオンにします。
3. 「パッケージ化されていない拡張機能を読み込む」をクリックし、フォルダ `tab-manager-extension` を選択します。
4. ツールバーに表示されたアイコンをクリックするとポップアップが開きます。

## 使い方

ポップアップ内では以下の操作が可能です。

- **ドメイン別にグループ化**：開いているタブをドメインごとにグループにまとめます。
- **重複タブを閉じる**：同じ URL のタブが複数ある場合、重複分を閉じます。
- **セッションを保存**：現在のタブ群を名前を付けて保存します。
- **セッションをインポート**：JSON ファイルからセッションを読み込みます。
- **保存されたセッション一覧**：過去に保存したセッションの復元・削除・エクスポートが行えます。
- **利用時間トップ 5**：各ドメインの滞在時間を上位 5 件表示します。

オプションページを開くと、タブ上限や休止設定、ホワイトリストの編集が可能です。自動で閉じたくないドメインがある場合は、ホワイトリストに追加してください。

## 開発

拡張機能は Manifest V3 を利用しており、`background.js` はサービスワーカーとして動作します。主な構成は以下の通りです。

- `manifest.json` – 拡張機能の設定やパーミッションを定義します。
- `background.js` – タブの監視・整理、ショートカットの処理、セッション管理、統計の記録など主要なロジックを担います。
- `popup.html/css/js` – ツールバーのアイコンをクリックした際に表示される UI を構成します。
- `options.html/css/js` – 設定ページの UI と保存処理を担当します。
- `icons/` – 拡張機能で使用するアイコン類です。

Pull Requests や Issue は歓迎です。改善案やバグ報告があればお気軽にご連絡ください。

## ライセンス

このプロジェクトは MIT ライセンスのもとで公開されています。詳細は `LICENSE` ファイルをご覧ください。